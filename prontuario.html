<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Prontuário do Paciente</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link rel="stylesheet" href="css/prontuario.css">
  <link rel="stylesheet" href="css/sidebar.css">

</head>

<body>

  <!-- =============== Container ================ -->
  <div class="container">
    <!-- =============== Sidebar ================ -->
    <div class="navigation">
      <ul>
        <li>
          <a href="#">
            <span>
              <img class="icone" src="img/iniciais (2) (1).png" alt="" />
            </span>
            <img class="logo" src="img/Nome-removebg-preview (1).png" alt="" />
          </a>
        </li>
        <li>
          <a href="dashboard.html">
            <span class="icon"><ion-icon name="home-outline"></ion-icon></span>
            <span class="title">Dashboard</span>
          </a>
        </li>
        <li>
          <a href="pacientes.html">
            <span class="icon"><ion-icon name="people-outline"></ion-icon></span>
            <span class="title">Pacientes</span>
          </a>
        </li>
        <li>
          <a href="agenda.html" class="hovered">
            <span class="icon"><ion-icon name="calendar-outline"></ion-icon></span>
            <span class="title">Agenda</span>
          </a>
        </li>
        <li>
          <a href="#">
            <span class="icon"><ion-icon name="help-outline"></ion-icon></span>
            <span class="title">Ajuda</span>
          </a>
        </li>
        <li>
          <a href="#">
            <span class="icon"><ion-icon name="settings-outline"></ion-icon></span>
            <span class="title">Configurações</span>
          </a>
        </li>
        <li>
          <a href="#">
            <span class="icon"><ion-icon name="lock-closed-outline"></ion-icon></span>
            <span class="title">Senha</span>
          </a>
        </li>
        <li>
          <a href="#">
            <span class="icon"><ion-icon name="log-out-outline"></ion-icon></span>
            <span class="title">Sair</span>
          </a>
        </li>
      </ul>
    </div>

    <!-- ========================= Main ==================== -->
    <div class="main">
      <!-- ================ Topbar ================= -->
      <div class="topbar">
        <div class="toggle"><ion-icon name="menu-outline"></ion-icon></div>
        <div class="search">
          <label>
            <input type="text" placeholder="Buscar..." />
            <ion-icon name="search-outline"></ion-icon>
          </label>
        </div>
        <div class="user">
          <img src="img/iniciais-removebg-preview.png" alt="" />
        </div>
      </div>

      <div class="container">

         <!-- CONTEÚDO QUE SERÁ EXPORTADO PARA PDF -->
  <div id="conteudo-pdf">
    <!-- Cartões -->
    <div class="card">
      <div class="card-header">
        <i class="fa-solid fa-user"></i>
        <h2>Informações Pessoais</h2>
      </div>
      <div class="row">
        <div class="col">
          <div class="field-group">
            <label>Nome</label>
            <div class="info-box"><span>João da Silva</span></div>
          </div>
        </div>
        <div class="col">
          <div class="field-group">
            <label>Idade</label>
            <div class="info-box"><span>39 anos</span></div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col">
          <div class="field-group">
            <label>Gênero</label>
            <div class="info-box"><span>Masculino</span></div>
          </div>
        </div>
        <div class="col">
          <div class="field-group">
            <label>Data de Nascimento</label>
            <div class="info-box"><span>10/06/1985</span></div>
          </div>
        </div>
      </div>
    </div>

    <!-- Histórico Clínico -->
    <div class="card">
      <div class="card-header">
        <i class="fa-solid fa-notes-medical"></i>
        <h2>Histórico Clínico</h2>
      </div>
      <div class="field-group">
        <label>Diabetes</label>
        <div class="info-box"><span>Não</span></div>
      </div>
      <div class="field-group">
        <label>Hipertensão</label>
        <div class="info-box"><span>Sim</span></div>
      </div>
      <div class="field-group">
        <label>Gastrite</label>
        <div class="info-box"><span>Não</span></div>
      </div>
    </div>

    <!-- Plano Alimentar -->
    <div class="card">
      <div class="card-header">
        <i class="fa-solid fa-apple-whole"></i>
        <h2>Padrão Alimentar</h2>
      </div>
      <div class="field-group">
        <label>Alergia a Alimentos</label>
        <div class="info-box"><span>Nenhuma</span></div>
      </div>
      <div class="field-group">
        <label>Preferências Alimentares</label>
        <div class="info-box"><span>Prefere pratos leves e naturais, sem glúten.</span></div>
      </div>
    </div>
  </div>

  <!-- Botão fora da área exportada -->
  <button class="btn-pdf" onclick="gerarPDF()">
    <i class="fa-solid fa-file-arrow-down"></i>
  </button>
</div>

<!-- Scripts -->
<script>
  function gerarPDF() {
    const element = document.getElementById("conteudo-pdf");

    const opt = {
      margin: 10,
      filename: 'prontuario_visual.pdf',
      image: { type: 'jpeg', quality: 0.98 },
      html2canvas: {
        scale: 2,
        useCORS: true,
        allowTaint: true
      },
      jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }
    };

    html2pdf().set(opt).from(element).save();
  }
</script>

<!-- Bibliotecas -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

<script src="js/sidebar.js"></script>

      <!-- ====== ionicons ======= -->
      <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
      <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>

</body>

</html>